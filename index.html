<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Put your description here.">
  <base href="/">

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #ededed;
    }

    .skills{
      margin-bottom: 20px;
    }
    
    .exp{
      margin-bottom: 20px;
    }

    .course{
      margin-bottom: 20px;
    }

  </style>


  <title>mini-resume</title>


</head>

<body>
  <div class="buttons">
    <button class="dupe">Duplicate</button>
    <button class="changebg">Change Background</button>
    <button class="changehg">Change Heading</button>
    <button id="del">Delete</button>
    <button data-toggle>Toggle Info</button>

  </div>
  <div id="app">
    <mini-resume class="indexmain">
      
      <div slot="infoslot">
        <ul>
          <details class="skills">
            <summary>Skills</summary>
            <li>Placeholder skills</li>
          </details>

          <details class="exp">
            <summary>Work Experience</summary>
            <li>Placeholder work experince</li>
          </details>

          <details class="course">
            <summary>Relevant Course Work</summary>
            <li>Placeholder relevant coursework</li>
          </details>
        </ul>
      </div>

      <div slot="username">
        <h3>Aaron Lobitana</h3>
      </div>

      <div slot="college">
        <h4>Pennsylvania State University</h4>
      </div>

      <div slot="major">
        <h4>B.S. Cybersecurity</h4>
      </div>


    </mini-resume>
  </div>

  

  <script type="module" src="./src/mini-resume.js"></script>

  <script>

    document.querySelector('button[data-toggle]').addEventListener('click', (e) => {
    const moreinfo = document.querySelector('mini-resume').shadowRoot.querySelector('details')
    console.log(moreinfo);
    if (moreinfo.getAttribute('open')) {
      moreinfo.removeAttribute('open');
    }
    else {
      moreinfo.setAttribute('open','open');    
    }
    });

    document.querySelector('.dupe').addEventListener('click', function(e) {
    const itemToClone = document.querySelector('.indexmain').cloneNode(true);
    document.querySelector('#app').appendChild(itemToClone);
    });

    
    document.querySelector('#del').addEventListener('click', function(e) {
    if (document.querySelector('#app mini-resume:last-child') !== document.querySelector('mini-resume')) {
      document.querySelector('#app mini-resume:last-child').remove();      
    }
    });
    

    document.querySelector('.changehg').addEventListener('click', function(e) {

      const myheading = document.querySelectorAll('mini-resume');

      for (let i = 0; i < myheading.length; i++){
        if (myheading[i].name == "megamind"){
          myheading[i].name = "Aaron Lobitana";
        }else{
          myheading[i].name = "megamind";
        }
        
      }

    });
    
    document.querySelector('.changebg').addEventListener('click', function(e) 
    {
      
      var hexnums = '0123456789ABCDEF';
      var color = '#';
      for (var i = 0; i < 6; i++) {
        color += hexnums[Math.floor(Math.random() * 16)];
      }
      
      document.querySelector('mini-resume').shadowRoot.querySelector('.overallcard').style.backgroundColor = color;
    
    });


    
    
  </script>
</body>

</html>